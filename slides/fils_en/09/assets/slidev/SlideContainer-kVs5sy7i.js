import{r as f,z as i,B as d,V as I,d as z,a6 as P,N as V,a5 as g,f as w,k as h,g as c,j as _,F as A,i as F,o as $}from"../modules/vue-BPvrJPvW.js";import{V as N,W as r,X as O,Y as T,l as U,T as k,Z as b,O as M,P as C,r as W,h as q,R as H,_ as L}from"../index-CoTkYe_F.js";function R(t){var e;return{info:f(((e=N(t))==null?void 0:e.meta.slide)??null),update:async()=>{}}}const v={};function ie(t){function e(a){return v[a]??(v[a]=R(a))}return{info:i({get(){return e(d(t)).info.value},set(a){e(d(t)).info.value=a}}),update:async(a,o)=>{const s=e(o??d(t)),n=await s.update(a);return n&&(s.info.value=n),n}}}const l=I({});let X=[],Y=[];r(l,"$syncUp",!0);r(l,"$syncDown",!0);r(l,"$paused",!1);r(l,"$onSet",t=>X.push(t));r(l,"$onPatch",t=>Y.push(t));O();r(l,"$patch",async()=>!1);const Z=T(l,l,!0);var x;(x=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||x[1];var B;(B=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||B[1];class G{constructor(){this._screenshotSession=null}getSnapshot(e,a){const o=e+(a?"-dark":"-light"),s=Z.state[o];if(!s)return;const n=N(e);if(n&&(s==null?void 0:s.revision)===(n==null?void 0:n.meta.slide.revision))return s.image}async saveSnapshot(e,a,o){return!1}async startCapturing(e){return!1}}const J=new G,K=["id"],Q=["id"],ee={class:"slidev-slide-container w-full h-full relative"},te=["src"],ae=z({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1},contentStyle:{type:Object,default:()=>({})}},setup(t){const e=t,{isPrintMode:a}=U(),o=f(null),s=P(o),n=f(null),j=i(()=>e.width??s.width.value),D=i(()=>e.width?e.width/k.value:s.height.value),u=i(()=>b.value&&!a.value?+b.value:Math.min(j.value/M.value,D.value/C.value)),E=i(()=>({...e.contentStyle,height:`${C.value}px`,width:`${M.value}px`,transform:`translate(-50%, -50%) scale(${u.value})`,"--slidev-slide-scale":u.value})),p=i(()=>e.width?{width:`${e.width}px`,height:`${e.width/k.value}px`}:{});e.isMain&&V(i(()=>`:root { --slidev-slide-scale: ${u.value}; }`)),g(q,u),g(H,n);const S=i(()=>{if(!(e.no==null||!e.useSnapshot))return J.getSnapshot(e.no,W.value)});return(m,y)=>S.value?($(),w(A,{key:1},[F(" Image Snapshot "),c("div",ee,[c("img",{src:S.value,class:"w-full h-full object-cover",style:h(p.value)},null,12,te),y[0]||(y[0]=c("div",{absolute:"","bottom-1":"","right-1":"","p0.5":"","text-cyan:75":"","bg-cyan:10":"",rounded:"",title:"Snapshot"},[c("div",{class:"i-carbon-camera"})],-1))])],2112)):($(),w("div",{key:0,id:t.isMain?"slide-container":void 0,ref_key:"container",ref:o,class:"slidev-slide-container",style:h(p.value)},[c("div",{id:t.isMain?"slide-content":void 0,ref_key:"slideElement",ref:n,class:"slidev-slide-content",style:h(E.value)},[_(m.$slots,"default",{},void 0,!0)],12,Q),_(m.$slots,"controls",{},void 0,!0)],12,K))}}),le=L(ae,[["__scopeId","data-v-0f1b262a"]]);export{le as S,R as a,ie as u};
