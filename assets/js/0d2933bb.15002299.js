"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3670],{19282:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"project/2025/petru.nania/index","title":"Rusty Musician","description":"Sound processor for electric musical instruments","source":"@site/versioned_docs/version-acs_cc/project/2025/petru.nania/index.md","sourceDirName":"project/2025/petru.nania","slug":"/project/2025/petru.nania/","permalink":"/docs/acs_cc/project/2025/petru.nania/","draft":false,"unlisted":false,"editUrl":"https://www.github.com/upb-pmrust/website/edit/main/website/versioned_docs/version-acs_cc/project/2025/petru.nania/index.md","tags":[],"version":"acs_cc","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SafePi","permalink":"/docs/acs_cc/project/2025/petre.namoianu/"},"next":{"title":"Plant Friend","permalink":"/docs/acs_cc/project/2025/petru_vlad.ionescu/"}}');var s=i(74848),n=i(28453);const d={},c="Rusty Musician",a={},l=[{value:"Description",id:"description",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Log",id:"log",level:2},{value:"Week 5 - 11 May",id:"week-5---11-may",level:3},{value:"Week 12 - 18 May",id:"week-12---18-may",level:3},{value:"Week 19 - 25 May",id:"week-19---25-may",level:3},{value:"Hardware",id:"hardware",level:2},{value:"Schematics",id:"schematics",level:3},{value:"Bill of Materials",id:"bill-of-materials",level:3},{value:"Software",id:"software",level:2},{value:"Links",id:"links",level:2}];function o(e){const t={a:"a",admonition:"admonition",br:"br",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"rusty-musician",children:"Rusty Musician"})}),"\n",(0,s.jsx)(t.p,{children:"Sound processor for electric musical instruments"}),"\n",(0,s.jsxs)(t.admonition,{type:"info",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Author"}),": Petru-Cristian NANIA ",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"GitHub Project Link"}),": ",(0,s.jsx)(t.a,{href:"https://github.com/UPB-PMRust-Students/proiect-PetruCristian",children:"repository"})]})]}),"\n",(0,s.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(t.p,{children:["The device can be connected between an electric musical instrument and an amplifier. ",(0,s.jsx)(t.br,{}),"\n","It can apply sound effects to the signal generated by the instrument. ",(0,s.jsx)(t.br,{}),"\n","It can also function as a looping station (it records sequences of sound and plays them back repeatedly)."]}),"\n",(0,s.jsx)(t.h2,{id:"motivation",children:"Motivation"}),"\n",(0,s.jsxs)(t.p,{children:["I have a passion for music and I've always wanted such a device. ",(0,s.jsx)(t.br,{}),"\n","I think it's more fun to make it myself than to buy one. ",(0,s.jsx)(t.br,{}),"\n","I also don't always have and entire musical band with me when I want to entertain my friends and a looping station would be awesome."]}),"\n",(0,s.jsx)(t.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Architecture",src:i(42673).A+""})}),"\n",(0,s.jsx)(t.h2,{id:"log",children:"Log"}),"\n",(0,s.jsx)(t.h3,{id:"week-5---11-may",children:"Week 5 - 11 May"}),"\n",(0,s.jsx)(t.h3,{id:"week-12---18-may",children:"Week 12 - 18 May"}),"\n",(0,s.jsx)(t.h3,{id:"week-19---25-may",children:"Week 19 - 25 May"}),"\n",(0,s.jsx)(t.h2,{id:"hardware",children:"Hardware"}),"\n",(0,s.jsx)(t.p,{children:"An electric guitar pickup is just a coil with magnets (the magnetized strings) vibrating around it.\nThese vibrations induce in the coil an electrical current which is normally conducted though an audio cable to an amplifier."}),"\n",(0,s.jsx)(t.p,{children:"In my project, the aim is to take that current, send it to Rusty Musician device, and do funky stuff with it before sending it to the amplifier."}),"\n",(0,s.jsx)(t.p,{children:"First of all, the input is be preprocessed with a passive low-pass filter that has a threshold as high as the highest note on the guitar.\nThis ensures the signal is as clean as possible before sending it to the ADC on the Raspberry Pi Pico 2 and processing it using software written in Rust for the RP2350 MCU."}),"\n",(0,s.jsx)(t.p,{children:"Multiple buttons (with pull-up resistors) are used to select options from the menu (cycle between live effects or select the loop station function).\nThe options are shown on an LCD screen."}),"\n",(0,s.jsx)(t.p,{children:"For certain effects and for looping, storage space is needed.\nThis is achieved by using an external microSD module and an external non-volatile memory."}),"\n",(0,s.jsx)(t.p,{children:"The processed signal is sent to an external DAC module, filtered again, and ultimately sent to the amplifier."}),"\n",(0,s.jsx)(t.h3,{id:"schematics",children:"Schematics"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Schematic",src:i(40547).A+"",width:"794",height:"559"})}),"\n",(0,s.jsx)(t.h3,{id:"bill-of-materials",children:"Bill of Materials"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Device"}),(0,s.jsx)(t.th,{children:"Usage"}),(0,s.jsx)(t.th,{children:"Price"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://datasheets.raspberrypi.com/rp2350/rp2350-datasheet.pdf",children:"Raspberry Pi Pico 2W"})}),(0,s.jsx)(t.td,{children:"The microcontroller"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/placi-raspberry-pi/13327-raspberry-pi-pico-2-w.html",children:"39.66 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://datasheets.raspberrypi.com/rp2350/rp2350-datasheet.pdf",children:"A second Raspberry Pi Pico 2W"})}),(0,s.jsx)(t.td,{children:"The debugger"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/placi-raspberry-pi/13327-raspberry-pi-pico-2-w.html",children:"39.66 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://ww1.microchip.com/downloads/aemDocuments/documents/MSLD/ProductDocuments/DataSheets/MCP4725-Data-Sheet-20002039E.pdf",children:"MCP4725 with I2C interface"})}),(0,s.jsx)(t.td,{children:"DAC module for generating the output signal"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/altele/1327-modul-dac-mcp4725-cu-interfaa-i2c.html",children:"24.99 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"LCD 1602A"}),(0,s.jsx)(t.td,{children:"For the effects menu"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/optoelectronice-lcd-uri/867-modul-lcd-1602-cu-backlight-galben-verde-de-5v.html",children:"9.82 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Three pin headers - 2.54mm with 40 pins"}),(0,s.jsx)(t.td,{children:"For the two dev boards and the LCD"}),(0,s.jsxs)(t.td,{children:["3 \xd7 ",(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/componente-electronice-headere-de-pini/464-header-de-pini-rosu-254-mm-40p.html",children:"0.99 RON"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"At least two MF1401 6.3mm jack sockets"}),(0,s.jsx)(t.td,{children:"Connecting the instrument and the amplifier tot the Rusty Musician device"}),(0,s.jsxs)(t.td,{children:["2 \xd7 ",(0,s.jsx)(t.a,{href:"https://electroniclight.ro/mf1401-jack-mama-63mm-mono/2907.html",children:"2.00 RON"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Audio cable"}),(0,s.jsx)(t.td,{children:"An extra one is needed to connect the Rusty Musician device and the amp"}),(0,s.jsx)(t.td,{})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Buttons"}),(0,s.jsx)(t.td,{children:"To select options from the menu"}),(0,s.jsxs)(t.td,{children:["4 \xd7 ",(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/senzori-senzori-de-atingere/742-modul-joystick-ps2-biaxial-negru-cu-5-pini.html",children:"0.36 RON"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Potentiometer"}),(0,s.jsx)(t.td,{children:"Change LCD contrast"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/componente-electronice-potentiometre/1885-potentiometru-mono-50k.html",children:"1.49 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Breadboard + Jump wires + Stabilized power source"}),(0,s.jsx)(t.td,{children:"Mounting, connecting and powering everything"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/kituri/2222-kit-breadboard-hq-830-p.html",children:"22.00 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Micro USB cable"}),(0,s.jsx)(t.td,{children:"Powering the dev board and uploading the code"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/cabluri-cabluri-usb/11939-cablu-negru-micro-usb-1-m.html",children:"3.99 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://electronperdido.com/wp-content/uploads/2022/12/FLASH-w25q32-datasheet.pdf",children:"W25Q32 module with SPI interface"})}),(0,s.jsx)(t.td,{children:"Fast non-volatile memory for real-time effects"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/altele/5711-modul-memorie-nevolatila-de-32-mbii-cu-interfaa-spi.html",children:"5.48 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://sigmanortec.ro/Modul-MicroSD-p126079625?SubmitCurrency=1&id_currency=2&gad_source=1&gbraid=0AAAAAC3W72O583Lr5l62Wu-ikqzQMfuL2&gclid=Cj0KCQjw2tHABhCiARIsANZzDWrlsAY6TVOV6OsCqmh9uFbf-u8zYH7SExosl4_2Qs3X1Pkyj0U9nsAaAhsEEALw_wcB",children:"MicroSD card module with SPI interface"})}),(0,s.jsx)(t.td,{children:"Loop recording and playback"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/memorii/1516-modul-slot-card-microsd.html?search_query=card+SD&results=191",children:"4.39 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Soundking AL 103 Footswitch"}),(0,s.jsx)(t.td,{children:"Starting and stopping loop recording/playback"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.muziker.ro/soundking-al-103?gad_source=1&gbraid=0AAAAADdcsprwsrtO0GaPnRNnnX49fcVSd&gclid=Cj0KCQjw_JzABhC2ARIsAPe3yno-_9jVy8plRFpghh77IrSKaBIFcNDLurl8_neTuTrRFzz4REu6CQcaApXwEALw_wcB",children:"11.90 RON"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Total"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"171.79 RON"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"software",children:"Software"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Library"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Usage"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://embassy.dev/",children:"embassy-rp"})}),(0,s.jsx)(t.td,{children:"Rust + async \u2764\ufe0f embedded"}),(0,s.jsx)(t.td,{children:"Next-generation framework for embedded applications"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://crates.io/crates/lcd1602-rs",children:"lcd1602-rs"})}),(0,s.jsx)(t.td,{children:"Driver for 1602 LCD via an embedded-hal implementation"}),(0,s.jsx)(t.td,{children:"Show menu on LCD screen"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://crates.io/crates/micromath",children:"micromath"})}),(0,s.jsx)(t.td,{children:"Embedded-friendly math library"}),(0,s.jsx)(t.td,{children:"Fast floating-point math"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://crates.io/crates/arrayvec",children:"arrayvec"})}),(0,s.jsx)(t.td,{children:"A vector with fixed capacity, backed by an array (it can be stored on the stack too)"}),(0,s.jsx)(t.td,{children:"Storing samples of the signal on the stack"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://crates.io/crates/fixed",children:"fixed"})}),(0,s.jsx)(t.td,{children:"Fixed-point numbers"}),(0,s.jsx)(t.td,{children:"Faster arithmetic"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://crates.io/crates/biquad",children:"biquad"})}),(0,s.jsx)(t.td,{children:"A library for digital second order IIR filtrers"}),(0,s.jsx)(t.td,{children:"Signal processing"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"links",children:"Links"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://www.youtube.com/watch?v=HFvPftwNcSY",children:"Inspiration: Ed Sheeran"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://www.youtube.com/watch?v=Xq0bt-0kbBk",children:"1602A LCD connected to Pico"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/mwylde/loopers",children:"Looper for Linux written in Rust"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://pmrust.pages.upb.ro/docs/acs_cc/lab/03",children:"PWM & ADC lab"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://pmrust.pages.upb.ro/docs/acs_cc/lab/05",children:"SPI lab"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://pmrust.pages.upb.ro/docs/acs_cc/lab/06",children:"I2C lab"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},42673:(e,t,i)=>{i.d(t,{A:()=>r});const r=i.p+"assets/images/rusty-musician-arch-de3d0db627252451b448a10c939f4e61.svg"},40547:(e,t,i)=>{i.d(t,{A:()=>r});const r=i.p+"assets/images/rusty-musician-schem-38846ca42c7561de4b2d60e9085c562b.svg"},28453:(e,t,i)=>{i.d(t,{R:()=>d,x:()=>c});var r=i(96540);const s={},n=r.createContext(s);function d(e){const t=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);